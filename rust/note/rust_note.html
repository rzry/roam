<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-03-01 一 13:41 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>rust<sub>note</sub></title>
<meta name="generator" content="Org mode" />
<meta name="author" content="rzry https://github.com/rzry" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel='stylesheet' type='text/css' href='http://zxxky.cn/1.css'>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">rust<sub>note</sub></h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgb178f41">1. <span class="todo TODO">TODO</span> 2020.10.30</a></li>
<li><a href="#orgbd9aa1c">2. 2021-02-05</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgb178f41" class="outline-2">
<h2 id="orgb178f41"><span class="section-number-2">1</span> <span class="todo TODO">TODO</span> 2020.10.30</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li><p>
2.0
</p>
<div class="org-src-container">
<pre class="src src-rust"><span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"Hello, world!"</span>);
<span style="color: #6f7787;">//</span><span style="color: #6f7787;">let == var</span>
<span style="color: #6f7787;">//</span><span style="color: #6f7787;">mut &#35753;&#21464;&#37327;&#21487;&#21464;</span>
<span style="color: #81A1C1;">let</span> <span style="color: #81A1C1;">mut</span> <span style="color: #D8DEE9;">guess</span> = <span style="color: #8FBCBB;">String</span>::new();

<span style="color: #81A1C1;">io</span>::stdin().read_line(&amp;<span style="color: #81A1C1;">mut</span> guess)
    .expect(<span style="color: #A3BE8C;">"&#35835;&#21462;&#19968;&#34892;"</span>);
<span style="color: #6f7787;">// </span><span style="color: #6f7787;">read_line &#36820;&#22238;&#19968;&#20010; result -&gt; res,err</span>
<span style="color: #6f7787;">// </span><span style="color: #6f7787;">expect &#25509;&#25910;&#36820;&#22238;</span>
<span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">rzry</span> = <span style="color: #A3BE8C;">"rzry"</span>;
<span style="color: #6f7787;">// </span><span style="color: #6f7787;">&#30456;&#24403;&#20110; fmt {} &#25509;&#21463;&#21442;&#25968;</span>

<span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"hello : </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;"> </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>,guess,rzry)
</pre>
</div></li>

<li><p>
猜游戏
</p>
<div class="org-src-container">
<pre class="src src-rust"><span style="color: #81A1C1;">use</span> <span style="color: #81A1C1;">std</span>::io;
<span style="color: #81A1C1;">use</span> <span style="color: #81A1C1;">std</span>::<span style="color: #81A1C1;">cmp</span>::<span style="color: #8FBCBB;">Ordering</span>;
<span style="color: #81A1C1;">use</span> <span style="color: #81A1C1;">rand</span>::<span style="color: #8FBCBB;">Rng</span>;
<span style="color: #81A1C1;">fn</span> <span style="color: #8FBCBB;">main</span>() {
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"&#33719;&#21462;&#19968;&#20010;&#25968;"</span>);
    <span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#38543;&#26426;&#25968; &#36171;&#20540;&#32473;number</span>
    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">number</span> = <span style="color: #81A1C1;">rand</span>::thread_rng().gen_range(1, 100);


    <span style="color: #6f7787;">// </span><span style="color: #6f7787;">&#36755;&#20837;&#19968;&#20010;&#25968;</span>
   <span style="color: #81A1C1;">loop</span> {
       <span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#21021;&#22987;&#21270;&#19968;&#20010; scan</span>
    <span style="color: #81A1C1;">let</span> <span style="color: #81A1C1;">mut</span> <span style="color: #D8DEE9;">scan</span> = <span style="color: #8FBCBB;">String</span>::new();
       <span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#33719;&#21462;&#38190;&#30424;&#36755;&#20837; &#28982;&#21518;&#36171;&#20540;&#32473; scan</span>
    <span style="color: #81A1C1;">io</span>::stdin().read_line(&amp;<span style="color: #81A1C1;">mut</span> scan)
        .expect(<span style="color: #A3BE8C;">"get num : "</span>);
       <span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#21021;&#22987;&#21270;&#20026;String::new()</span>
       <span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#26684;&#24335;&#36716;&#25442;&#20026;u32</span>
       <span style="color: #6f7787;">//    </span><span style="color: #6f7787;">let scan:u32 = scan.trim().parse()</span>
       <span style="color: #6f7787;">//      </span><span style="color: #6f7787;">.expect("&#36755;&#20837;&#19968;&#20010;num");</span>
       <span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#22788;&#29702;&#36755;&#20837;&#38750;u32</span>
       <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">scan</span>:<span style="color: #8FBCBB;">u32</span> = <span style="color: #81A1C1;">match</span> scan.trim().parse() {
           <span style="color: #8FBCBB;">Ok</span>(num)=&gt;num,
           <span style="color: #8FBCBB;">Err</span>(_)=&gt; {
               <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"enter num"</span>);
               <span style="color: #81A1C1;">continue</span>;
           },
       };
       <span style="color: #6f7787;">// </span><span style="color: #6f7787;">&#20004;&#20010;&#25968;&#27604;&#36739;</span>
    <span style="color: #81A1C1;">match</span> scan.cmp(&amp;number) {
        <span style="color: #8FBCBB;">Ordering</span>::<span style="color: #8FBCBB;">Less</span> =&gt; <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"&#23567;"</span>),
        <span style="color: #8FBCBB;">Ordering</span>::<span style="color: #8FBCBB;">Greater</span> =&gt; <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"&#22823;"</span>),
        <span style="color: #8FBCBB;">Ordering</span>::<span style="color: #8FBCBB;">Equal</span> =&gt;{
            <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"ok"</span>);
            <span style="color: #81A1C1;">break</span>;
        },
    }
   }

}

</pre>
</div></li>

<li><p>
3.1 变量可变
</p>
<div class="org-src-container">
<pre class="src src-rust"><span style="color: #81A1C1;">const</span> <span style="color: #D8DEE9;">MUM</span>:<span style="color: #8FBCBB;">u32</span> = 100;
<span style="color: #81A1C1;">fn</span> <span style="color: #8FBCBB;">main</span>() {

    <span style="color: #81A1C1;">let</span> <span style="color: #81A1C1;">mut</span> <span style="color: #D8DEE9;">x</span> = 5;
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"this value = &gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>,x);
    x = 6;
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"this value now = &gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;"> </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>,x ,<span style="color: #8FBCBB;">MUM</span>); <span style="color: #6f7787;">// </span><span style="color: #6f7787;">6.100</span>
    <span style="color: #6f7787;">//</span><span style="color: #6f7787;">shadowing</span>
    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">y</span> = 2;
    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">y</span> = y+1;
    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">y</span> = y*2;

    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"y =&gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>, y); <span style="color: #6f7787;">// </span><span style="color: #6f7787;">y==6</span>
    <span style="color: #6f7787;">// </span><span style="color: #6f7787;">let &#24050;&#32463;&#30456;&#24403;&#20110;&#37325;&#26032;&#23450;&#20041;&#20102;</span>
    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">speace</span> = <span style="color: #A3BE8C;">"    "</span>;
    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">speace</span> = speace.len();
        <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">" ... </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>,speace);

}
</pre>
</div></li>

<li><p>
3.2 数据类型
</p>
<div class="org-src-container">
<pre class="src src-rust">  <span style="color: #81A1C1;">fn</span> <span style="color: #8FBCBB;">main</span>() {
   <span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#20803;&#32452;</span>
   <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">xs</span>:(<span style="color: #8FBCBB;">i32</span>,<span style="color: #8FBCBB;">f64</span>,<span style="color: #8FBCBB;">u8</span>)=(100,5.3,1);

   <span style="color: #81A1C1;">let</span>(x,y,z)=xs;
   <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"x == </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">,y == </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">,z == </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>,x,y,z );
   <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"x == </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">,y == </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">,z == </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>,xs.0,xs.1,xs.2);


   <span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#25968;&#32452;</span>
   <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">a</span>:[<span style="color: #8FBCBB;">i32</span>;3]=[1,2,3];
   <span style="color: #81A1C1;">for</span> i <span style="color: #81A1C1;">in</span> 0..3 {
       <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"a == &gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>,a[i] );
   }
}
</pre>
</div></li>

<li><p>
3.3 函数工作
</p>
<div class="org-src-container">
<pre class="src src-rust"><span style="color: #81A1C1;">fn</span> <span style="color: #8FBCBB;">main</span>() {
    anot(1,3);
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"returnx - &gt;</span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;"> "</span>,anots(1,2));
}

<span style="color: #81A1C1;">fn</span> <span style="color: #8FBCBB;">anot</span>(<span style="color: #D8DEE9;">x</span>:<span style="color: #8FBCBB;">i32</span>,<span style="color: #D8DEE9;">y</span>:<span style="color: #8FBCBB;">i32</span>){
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"x value ==&gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;"> \ny value ==&gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>, x,y);
}
<span style="color: #81A1C1;">fn</span> <span style="color: #8FBCBB;">anots</span>(<span style="color: #D8DEE9;">x</span>:<span style="color: #8FBCBB;">i32</span>,<span style="color: #D8DEE9;">y</span>:<span style="color: #8FBCBB;">i32</span>)-&gt;<span style="color: #8FBCBB;">i32</span>{
    <span style="color: #81A1C1;">return</span> x+y;
}

</pre>
</div>
<div class="org-src-container">
<pre class="src src-rust">   <span style="color: #81A1C1;">fn</span> <span style="color: #8FBCBB;">main</span>() {
    <span style="color: #81A1C1;">let</span> x=5;
    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">y</span> ={
        <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">x</span> =3;
        x+1 <span style="color: #6f7787;">// </span><span style="color: #6f7787;">&#34920;&#36798;&#24335;&#32467;&#23614;&#27809;&#26377;&#20998;&#21495;,&#21152;&#20998;&#21495;&#23601;&#26159;&#35821;&#21477;,&#35821;&#21477;&#27809;&#26377;&#36820;&#22238;&#20540;</span>
    };

    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"x===&gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">,y===&gt;</span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>,x,y ); <span style="color: #6f7787;">//</span><span style="color: #6f7787;">5 , 4</span>

    <span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#35821;&#21477;&#27809;&#26377;&#36820;&#22238;&#20540;, &#34920;&#36798;&#24335;&#26377; &#27604;&#22914;:</span>
    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">d</span> = hello(2);
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"d == &gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>,d );

}

<span style="color: #81A1C1;">fn</span> <span style="color: #8FBCBB;">hello</span>(<span style="color: #D8DEE9;">x</span>:<span style="color: #8FBCBB;">i32</span>)-&gt;<span style="color: #8FBCBB;">i32</span>{
    x*x
}

</pre>
</div></li>

<li><p>
3.5 控制流
</p>
<div class="org-src-container">
<pre class="src src-rust">
<span style="color: #81A1C1;">fn</span> <span style="color: #8FBCBB;">main</span>() {

    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">x</span> = <span style="color: #81A1C1;">true</span>;

    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">b</span> = <span style="color: #81A1C1;">if</span> x{
        4
    }<span style="color: #81A1C1;">else</span>{
        3
    };
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"b --&gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>, b);
}
</pre>
</div>

<div class="org-src-container">
<pre class="src src-rust">
<span style="color: #81A1C1;">fn</span> <span style="color: #8FBCBB;">main</span>() {

    <span style="color: #6f7787;">//</span><span style="color: #6f7787;">rev&#26159;&#21453;&#36716;</span>
    <span style="color: #81A1C1;">for</span> num <span style="color: #81A1C1;">in</span> (1..4).rev() {
        <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"num -&gt;  </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">!"</span>,num);
    }
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"OVER"</span>);
<span style="color: #6f7787;">//</span><span style="color: #6f7787;">num -&gt;  3!</span>
<span style="color: #6f7787;">//</span><span style="color: #6f7787;">num -&gt;  2!</span>
<span style="color: #6f7787;">//</span><span style="color: #6f7787;">num -&gt;  1!</span>
<span style="color: #6f7787;">//</span><span style="color: #6f7787;">OVER</span>
}
</pre>
</div></li>

<li><p>
作用域
</p>
<div class="org-src-container">
<pre class="src src-rust"><span style="color: #81A1C1;">fn</span> <span style="color: #8FBCBB;">main</span>() {
    <span style="color: #6f7787;">//</span><span style="color: #6f7787;">rust &#20316;&#29992;&#22495;</span>
    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">s</span> = <span style="color: #A3BE8C;">"hello"</span>;
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"</span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>,s);
}
<span style="color: #6f7787;">// </span><span style="color: #6f7787;">&#22312;&#19968;&#20010;&#20989;&#25968;&#32467;&#23614; s &#30340;&#20316;&#29992;&#22495;&#24050;&#32463;&#32467;&#26463;</span>
<span style="color: #6f7787;">//</span><span style="color: #6f7787;">s&#24050;&#32463;&#26080;&#25928;&#20102;</span>
<span style="color: #81A1C1;">fn</span> <span style="color: #8FBCBB;">main</span>() {
    <span style="color: #6f7787;">//</span><span style="color: #6f7787;">rust &#20316;&#29992;&#22495;</span>
    <span style="color: #81A1C1;">let</span> <span style="color: #81A1C1;">mut</span> <span style="color: #D8DEE9;">s</span> = <span style="color: #8FBCBB;">String</span>::from(<span style="color: #A3BE8C;">"test"</span>);
    s.push_str(<span style="color: #A3BE8C;">"string"</span>);
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"s -&gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>,s);
    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">s2</span> = s;
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"s2 -&gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>,s2);
}

<span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#31532;&#19968;&#20010; , &#25226;5&#32465;&#23450;&#21040;x &#25509;&#30528;&#20540;&#25335;&#36125; &#32465;&#23450;&#21040; y</span>
<span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#31532;&#20108;&#20010; string &#24213;&#23618;&#26159; data cap len  data &#26159;&#19968;&#20010;&#25351;&#38024;,</span>
<span style="color: #6f7787;">// </span><span style="color: #6f7787;">&#25152;&#20197;&#31532;&#20108;&#20010; s2 &#21644; s1 &#25351;&#21521;&#21516;&#19968;&#20010;&#22320;&#22336;</span>
<span style="color: #6f7787;">// </span><span style="color: #6f7787;">&#24403;&#28982;&#21487;&#20197;&#21482;&#29992;  s1.clone() &#36827;&#34892;&#22534;&#25335;&#36125;</span>
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgbd9aa1c" class="outline-2">
<h2 id="orgbd9aa1c"><span class="section-number-2">2</span> 2021-02-05</h2>
<div class="outline-text-2" id="text-2">
<div class="org-src-container">
<pre class="src src-rust">  <span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#24120;&#37327;</span>
<span style="color: #81A1C1;">fn</span> <span style="color: #8FBCBB;">num</span>(){
    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">s</span> = 4;
    <span style="color: #81A1C1;">print!</span>(<span style="color: #A3BE8C;">"&#27809;&#26377;mut &#19981;&#21487;&#21464;--&gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;"> \n"</span>,s);

    <span style="color: #81A1C1;">let</span> <span style="color: #81A1C1;">mut</span> <span style="color: #D8DEE9;">d</span> = 13;
    <span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#23450;&#20041;&#20102;&#19968;&#20010;&#21464;&#37327;&#21518; &#19968;&#23450;&#35201;&#20351;&#29992;&#20102; &#25165;&#33021;&#22312;&#20462;&#25913;&#21518; &#35835;&#21462;&#26377;&#29992;</span>
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"&#26377;mnt &#35835;&#21462;&#31532;&#19968;&#27425; --&gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>,d);
    d = 11;
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"&#26377;mnt &#20462;&#25913;&#21518;&#20877;&#35835;&#21462; --&gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>,d);

    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"static &#24120;&#37327; --&gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>,<span style="color: #8FBCBB;">ND</span>);

    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"const &#24120;&#20142;--&gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>,<span style="color: #8FBCBB;">SD</span>);
    <span style="color: #6f7787;">//</span><span style="color: #6f7787;">const &#21644; static &#30340;&#21306;&#21035;&#26159; const &#21487;&#33021;&#20250;&#34987;&#20869;&#32852;&#20248;&#21270;&#19981;&#19968;&#23450;&#20250;&#20998;&#37197;&#31354;&#38388;</span>

    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">a</span> = 1;
    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">a</span> = a*2;
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"&#30452;&#25509;&#23450;&#20041;&#20004;&#36941;a --&gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>,a);

    <span style="color: #81A1C1;">let</span> <span style="color: #8FBCBB;">str</span> = <span style="color: #A3BE8C;">"best wishes emacser "</span>;
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"str len --&gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">, str value --&gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;"> "</span>,<span style="color: #8FBCBB;">str</span>.len(),<span style="color: #8FBCBB;">str</span>)
}
<span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#20803;&#31062;&#21644;&#20999;&#29255;</span>
<span style="color: #81A1C1;">fn</span> <span style="color: #8FBCBB;">tuple_array</span>(){
    <span style="color: #6f7787;">//</span><span style="color: #6f7787;">tuple</span>
    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">xs</span>:(<span style="color: #8FBCBB;">i32</span>,<span style="color: #8FBCBB;">f64</span>,<span style="color: #8FBCBB;">u8</span>) = (100,1.1,1);
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"xs array value --&gt; </span><span style="color: #A3BE8C; font-style: italic;">{:?}</span><span style="color: #A3BE8C;">"</span>,xs);

    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">xd</span> = (1,2.4,1);
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"xs value --&gt; </span><span style="color: #A3BE8C; font-style: italic;">{:?}</span><span style="color: #A3BE8C;">"</span>,xd);

    <span style="color: #81A1C1;">let</span> xds=(1.3f32,2,3);
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"xds value --&gt; </span><span style="color: #A3BE8C; font-style: italic;">{:?}</span><span style="color: #A3BE8C;">"</span>,xds);

    <span style="color: #6f7787;">//</span><span style="color: #6f7787;">array</span>
    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">ars</span> = [1,2,3,4];
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"ars value --&gt; </span><span style="color: #A3BE8C; font-style: italic;">{:?}</span><span style="color: #A3BE8C;">"</span>,ars);

    <span style="color: #81A1C1;">let</span> arsd= [1.2f64,2.2,3.1];
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"arsd value --&gt; </span><span style="color: #A3BE8C; font-style: italic;">{:?}</span><span style="color: #A3BE8C;">"</span>,arsd);

    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">ds</span>:[<span style="color: #8FBCBB;">i32</span>;0] = [];
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"ds -&gt; </span><span style="color: #A3BE8C; font-style: italic;">{:?}</span><span style="color: #A3BE8C;">"</span>,ds);

    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">pair</span>:(<span style="color: #8FBCBB;">char</span>,<span style="color: #8FBCBB;">i32</span>,&amp;<span style="color: #8FBCBB;">str</span>) = (<span style="color: #A3BE8C;">'q'</span>,123,<span style="color: #A3BE8C;">"hello"</span>);
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"pair value --&gt; </span><span style="color: #A3BE8C; font-style: italic;">{:?}</span><span style="color: #A3BE8C;">"</span>,pair);
    <span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#20803;&#31062;() &#22810;&#31867;&#22411; &#21487;&#20197;&#21333;&#29420;&#36171;&#20540;</span>
    <span style="color: #81A1C1;">let</span> (hello,world) = (1,2);
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"hello value -&gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;"> world value -&gt;</span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>,hello,world);

}
<span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#20989;&#25968;</span>
<span style="color: #81A1C1;">fn</span> <span style="color: #8FBCBB;">funcx</span>(){
    <span style="color: #81A1C1;">let</span> (add_nud ,result) = add_num(10);
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"add_nud result value -&gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>,result);
}
<span style="color: #81A1C1;">fn</span> <span style="color: #8FBCBB;">add_num</span>(<span style="color: #D8DEE9;">a</span>:<span style="color: #8FBCBB;">i32</span>) -&gt;(<span style="color: #8FBCBB;">i32</span>,<span style="color: #8FBCBB;">i32</span>){
    (a , a+1)
}
<span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#23383;&#31526;&#20018;</span>
<span style="color: #81A1C1;">fn</span> <span style="color: #8FBCBB;">str</span>(){
    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">stra</span> = <span style="color: #A3BE8C;">"hello"</span>;
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"stra value = </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>,stra);
    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">strb</span> = <span style="color: #A3BE8C;">"world"</span>.to_string();
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"strb value = </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;"> ,--&gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;"> "</span>,&amp;strb,strb);
}
<span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#36816;&#31639;&#31526;</span>
<span style="color: #81A1C1;">fn</span> <span style="color: #8FBCBB;">operator</span>(){
    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">a</span> = 11;
    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">c</span> = (a <span style="color: #81A1C1;">as</span> <span style="color: #8FBCBB;">f32</span>)/2.1;
    <span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#20445;&#30041;&#23567;&#25968;&#20301;&#36755;&#20986;</span>
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"c value --&gt; </span><span style="color: #A3BE8C; font-style: italic;">{:.2}</span><span style="color: #A3BE8C;">"</span>,c)
}
<span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#24341;&#29992;,&#35299;&#24341;&#29992;</span>
<span style="color: #81A1C1;">fn</span> <span style="color: #8FBCBB;">reference</span>(){
    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">str1</span> = <span style="color: #8FBCBB;">String</span>::from(<span style="color: #A3BE8C;">"best wishes emacser"</span>);
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"str1 --&gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;"> ,str1 len --&gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">\n"</span>,&amp;str1,str1.len());

    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"str1 len value --&gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>,lenstr(&amp;str1));
    <span style="color: #81A1C1;">fn</span> <span style="color: #8FBCBB;">lenstr</span>(<span style="color: #D8DEE9;">s</span>:&amp;<span style="color: #8FBCBB;">String</span>)-&gt;<span style="color: #8FBCBB;">usize</span>{
        s.len()
    }
    <span style="color: #6f7787;">//</span><span style="color: #6f7787;">str &#26159;&#19968;&#20010;&#19981;&#21487;&#21464;&#30340;&#22266;&#23450;&#38271;&#24230;&#30340;&#23383;&#31526;&#20018;</span>
    <span style="color: #6f7787;">//</span><span style="color: #6f7787;">String &#26159;&#19968;&#20010;&#21487;&#21464; &#22534;&#19978;&#20998;&#37197;&#30340;&#23383;&#31526;&#20018;&#32531;&#20914;&#21306;</span>

    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">str2</span> = <span style="color: #A3BE8C;">"emacser"</span>;
    <span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#36716;&#25104; String</span>
    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">str3</span> = str2.to_string();
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"str &#36716;&#25104; String &#21518; len --&gt; </span><span style="color: #A3BE8C; font-style: italic;">{}</span><span style="color: #A3BE8C;">"</span>,lenstr(&amp;str3));
}
<span style="color: #81A1C1;">fn</span> <span style="color: #8FBCBB;">borrows</span>(){
    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">v</span> = &amp;<span style="color: #81A1C1;">mut</span>[1,2,3,4];<span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#21487;&#21464;</span>
    <span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#36827;&#20837;&#21035;&#30340;&#20316;&#29992;&#22495;&#20102;</span>
    {
        <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">zero</span> = v.get_mut(0).unwrap();
        *zero +=10;
        <span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#36825;&#26679;&#20462;&#25913;&#26159;&#19981;&#20250;&#25913;&#21464;&#22806;&#37096;v&#30340;&#20540;</span>
        v[0] = 11;
    }
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"array first value --&gt; </span><span style="color: #A3BE8C; font-style: italic;">{:?}</span><span style="color: #A3BE8C;">"</span>,v);
    v[0] = 2;
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"array value --&gt; </span><span style="color: #A3BE8C; font-style: italic;">{:?}</span><span style="color: #A3BE8C;">"</span>,v);
}

<span style="color: #6f7787;">//</span><span style="color: #6f7787;">struct</span>
<span style="color: #81A1C1;">struct</span> <span style="color: #8FBCBB;">Vec2</span> {
    <span style="color: #D8DEE9;">x</span>: <span style="color: #8FBCBB;">f64</span>, <span style="color: #6f7787;">// </span><span style="color: #6f7787;">64-bit floating point, aka "double precision"</span>
    <span style="color: #D8DEE9;">y</span>: <span style="color: #8FBCBB;">f64</span>,
}
<span style="color: #81A1C1;">fn</span> <span style="color: #8FBCBB;">structs</span>(){

    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">v1</span> = <span style="color: #8FBCBB;">Vec2</span>{<span style="color: #D8DEE9;">x</span>:1.2,<span style="color: #D8DEE9;">y</span>:2.1};
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">"v1 struct value x --&gt; </span><span style="color: #A3BE8C; font-style: italic;">{:?}</span><span style="color: #A3BE8C;"> y --&gt;</span><span style="color: #A3BE8C; font-style: italic;">{:?}</span><span style="color: #A3BE8C;">"</span>, v1.x,v1.y);
    <span style="color: #81A1C1;">let</span> <span style="color: #D8DEE9;">v2</span> = <span style="color: #8FBCBB;">Vec2</span>{
      <span style="color: #D8DEE9;">x</span>:22.1,
        ..v1
    };
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">" v2 struct value x --&gt; </span><span style="color: #A3BE8C; font-style: italic;">{:?}</span><span style="color: #A3BE8C;"> y --&gt;</span><span style="color: #A3BE8C; font-style: italic;">{:?}</span><span style="color: #A3BE8C;">"</span>, v2.x,v2.y);
    <span style="color: #6f7787;">//</span><span style="color: #6f7787;">&#20540;&#20445;&#30041;&#20102; x &#30340;&#20540;</span>
    <span style="color: #81A1C1;">let</span> <span style="color: #8FBCBB;">Vec2</span>{x,..} = v1;
    <span style="color: #81A1C1;">println!</span>(<span style="color: #A3BE8C;">" v2 struct value x --&gt; </span><span style="color: #A3BE8C; font-style: italic;">{:?}</span><span style="color: #A3BE8C;">"</span>, x);
}

</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2020-10-30</p>
<p class="author">Author: rzry <a href="https://github.com/rzry">https://github.com/rzry</a></p>
<p class="date">Created: 2021-03-01 一 13:41</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
